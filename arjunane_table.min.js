(function(t){"use strict";function e(t,e){var s=e.getElementsByClassName("--at-confirm-container")[0],a=e.getElementsByClassName("--at-alert-alert")[0],n=a.getElementsByTagName("button"),i=s.getElementsByTagName("button");n[0].addEventListener("click",function(){a.classList.remove("aktif")}),i[0].addEventListener("click",function(){s.classList.remove("aktif"),t.accept_confirm()}),i[1].addEventListener("click",function(){s.classList.remove("aktif"),t.abort_confirm()})}function s(t,e,s){var a=s;l[t.index].data=a;var n=t.container[0],i=!!Array.isArray(a[0]);if(l[t.index].is_array=i,t.__normalizeData(a),t.__setResult(e.time),t.__setPagination(),0===a.length){var r=t.thead.length,o=n.getElementsByTagName("tbody")[0];o.innerHTML+='<tr><td style="text-align:center" colspan="'+r+'">Ops, Your Data is NULL</td></tr>'}else{t.__setTbody(),t.isCheckable&&n.getElementsByClassName("--at-checkbox-container")[0].addEventListener("click",function(){var e=n.getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box");if(this.checked)for(var s=0;s<e.length;s++){var a=e[s].parentElement.parentElement,i=parseInt(e[s].value);e[s].checked=!0,t.__addCheckData(i),a.classList.contains("aktif")||a.classList.add("aktif")}else for(s=e.length-1;s>=0;s--){a=e[s].parentElement.parentElement,i=parseInt(e[s].value);e[s].checked=!1,t.__removeCheckData(i),a.classList.remove("aktif")}}),n.addEventListener("click",function(t){});var c=n.getElementsByClassName("--at-page");n.getElementsByClassName("--select-jump")[0].addEventListener("change",function(){t.__getPagination(this.value),t.__setResult(),t.__setPagination(),t.__setTbody()});var h=n.getElementsByTagName("th"),d=0;t.action&&(d+=1),t.popup_action&&(d+=1);for(var p=h.length-d,u=0;u<h.length;u++)h[u].addEventListener("mouseout",function(t){var e=n.getElementsByTagName("td");if(!(0!==d&&t>=p))for(var s=0;s<e.length;s++)e[s].classList.remove("hover")}.bind(null,u)),h[u].addEventListener("mouseover",function(t){if(!(d&&t>=p))for(var e=n.getElementsByTagName("tbody")[0].getElementsByTagName("tr"),s=0;s<e.length;s++)e[s].getElementsByTagName("td")[t].classList.add("hover")}.bind(null,u)),h[u].addEventListener("click",function(e){if(!(0!==d&&e>=p||h[e].classList.contains("--at-check")||h[e].classList.contains("--at-no"))){for(var s=0;s<h.length;s++)h[s].classList.remove("--desc"),h[s].classList.remove("--asc");var a=0;t.isCheckable&&(a+=1),t.isNumeric&&(a+=1);var n=t.isCheckable?e-a:e;t.__orderBy(n);var i=l[t.index],r=i.is_asc,o=r?"--asc":"--desc";h[e].classList.add(o),t.__setResult(),t.__setPagination(),t.__setTbody()}}.bind(null,u));c[0].addEventListener("click",function(){this.classList.contains("aktif")&&(t.__getPagination(l[t.index].current_page-1),t.__setResult(),t.__setPagination(),t.__setTbody())}),c[1].addEventListener("click",function(){this.classList.contains("aktif")&&(t.__getPagination(l[t.index].current_page+1),t.__setResult(),t.__setPagination(),t.__setTbody())}),n.getElementsByClassName("--select-show")[0].addEventListener("change",function(){t.__getResultShow(this.value),t.__setResult(),t.__setPagination(),t.__setTbody()})}}function a(t,e){for(var s in t)if(t[s]===e)return parseInt(s);return-1}function n(t){return t instanceof Date&&!isNaN(t.valueOf())}function i(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){try{JSON.parse(t)}catch(t){return!1}return!0}var o=0,l={};void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var c=document.getElementsByTagName("link"),h=!1;if(0!==c.length)for(var d=0;d<c.length;d++)null===c[d].getAttribute("href")||-1===c[d].getAttribute("href").indexOf("arjunane_table.min.css")&&-1===c[d].getAttribute("href").indexOf("arjunane_table.css")||(h=!0);if(!h){var p="";if(void 0===document.currentScript)for(var u=0;u<document.scripts.length;u++)-1!==document.scripts[u].src.indexOf("arjunane_table")&&(p=document.scripts[u].src.split("/"));else p=document.currentScript.src.split("/");var _=document.createElement("link"),f=p[p.length-1].length,v=p.join("/").slice(0,-f);_.rel="stylesheet",_.href=v+"arjunane_table.min.css",document.head.appendChild(_)}var g=function(){this.version="1.0.0",this.github="https://github.com/dimas-ak/",this.developed_by="Dimas Awang Kusuma"};g.prototype.init=function(t,e){var s=function(){};s.prototype=g.prototype;var a=new s;return a.__initTable(t,e),a},g.prototype.__initTable=function(t,a){var n={},i=performance.now();this.str_selector="--arjunane-table-"+o,this.str_query=".--arjunane-table-"+o,this.json_search=null,this.index=o,this.obj=a,this.is_scrolled=!0,this.height=!1,this.accept_confirm=function(){},this.abort_confirm=function(){},this.isCheckable=!1,this.isNumeric=!1,this.data_checked=new Array,this.index_checked=new Array,l[this.index]={index:o,data:{},per_page:10,current_page:1,arr_search:{},arr_object:null,order_by_index:null,is_asc:!0};var c=document.querySelector(t);if(null===c)throw Error('\nSelector with name "'+t+'" doesn`t exist');var h="table"===c.tagName.toString().toLowerCase();if(h){l[this.index].is_array=!0;var d=document.querySelector(t),p=d.getElementsByTagName("th"),u=d.getElementsByTagName("td");if(null===p||0===p.length)throw Error('\nPlease, at least set your "th" element tag');this.thead=new Array,this.json=new Array,this.json_search=null;for(var _=new Array,f=new Array,v=p.length-1,g=0;g<p.length;g++)this.thead.push(p[g].innerHTML);for(g=0;g<u.length;g++)_.push(u[g].innerHTML),g===v&&(v+=p.length,f.push(_),_=new Array);var m="container-arjunane-replace-"+o;this.json=f,d.insertAdjacentHTML("afterend",'<div class="'+m+'"></div>'),this.selector=document.querySelector("."+m),this._str_selector=t,d.style.display="none"}else this.selector=document.querySelector(t),this._str_selector=t;if(a){if(this.isCheckable=a.checkable||!1,this.isNumeric=a.numeric||!1,this.action=a.action,this.popup_action=a.popup_action,this.hide=a.hide,this.is_scrolled=a.scrollable||this.is_scrolled,this.height=a.height||this.height,this.thead=a.thead||this.thead,this.update_row=a.update_row,a&&!a.url&&!a.get_file&&!h)throw Error('\nPlease, at least set "url" or "get_file"');var y=a.url||a.get_file}this.__setTable(),this.container=document.getElementsByClassName(this.str_selector),this.__setFormFilters();l[this.index];var b=this;if(e(b,this.container[0]),h){var j=performance.now();n.time=((j-i%6e4)/1e3).toFixed(2),s(b,n,this.json)}else this.req(y,function(t){if(null===t.error&&r(t.result))s(b,t,JSON.parse(t.result));else{var e="<strong>Selector</strong> : "+b._str_selector+"<br><strong>URL</strong> : "+y+"<br><strong>Messages</strong> : <br>"+t.result;b.showAlert({type:"danger",title:"Ops, something went wrong !",text:e})}});return o++,this},g.prototype.__getPagination=function(t){l[this.index].current_page=parseInt(t)},g.prototype.__getResultShow=function(t){l[this.index].per_page=parseInt(t),l[this.index].current_page=1},g.prototype.__setTable=function(t){var e=void 0===t?this.selector:this.selector.parentElement,s=this.obj&&this.obj.loading_text?this.obj.loading_text:"Please wait ...",a='<div class="arjunane-table '+this.str_selector+'">';if(a+='<div class="--at-alert-container --at-confirm-container">',a+='<div class="--at-alert">',a+='<div class="--at-alert-top">',a+="<span>Info</span>",a+="</div>",a+='<div class="--at-alert-middle">',a+="</div>",a+='<div class="--at-alert-bottom">',a+="<button>Yes</button>",a+="<button>No</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="--at-alert-container --at-alert-alert">',a+='<div class="--at-alert">',a+='<div class="--at-alert-top">',a+="<span>Info</span>",a+="</div>",a+='<div class="--at-alert-middle">',a+="</div>",a+='<div class="--at-alert-bottom">',a+="<button>OK</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="--at-top">',this.obj&&void 0!==this.obj.title&&(a+='<div class="--at-title">',a+="<strong>"+this.obj.title+"</strong>",void 0!==this.obj.sub_title&&(a+="<span>"+this.obj.sub_title+"</span>"),a+="</div>"),this.obj&&void 0!==this.obj.content_top){if(this.obj&&void 0!==this.obj.content_top.form_filter){a+='<div class="--at-content --cf">';var n=this.obj.content_top.form_filter;a+='<div class="--at-form-filter">',a+="<label>Filters :</label>";for(var i=0;i<n.length;i++){var r=n[i],o=r.text||"",l=r.attr||"";if(void 0===r.type)throw Error('\nPlease, set "type" for filters');if(a+='<div class="--at-form-input">',a+="<span>"+o+"</span>","input"===r.type)a+="<input "+l+' class="--at-filter-'+i+'">';else if("select"===r.type){if(void 0===r.arr)throw Error('\nPlease, set "arr" for "select" filters');for(var c in a+='<select class="--at-filter-'+i+'" '+l+">",r.arr){var h=r.arr[c];a+='<option value="'+h[0]+'">'+h[1]+"</option>"}a+="</select>"}a+="</div>"}a+="</div>",a+="</div>"}if(a+='<div class="--at-content --cf --at-content-top">',this.obj.content_top.action)for(i=0;i<this.obj.content_top.action.length;i++){var d=this.obj.content_top.action[i],p=d.type||"info",u=d.href||"",_=(l=d.attr||""," "+(d.cls||p));a+='<a href="'+u+'" class="--at-btn --at-btn-top-'+i+_+'" '+l+">"+d.text+"</a>"}a+="</div>"}a+='<div class="--at-content --cf">',a+='<div class="--at-left">',a+='<span class="--at-show"></span>',a+='<select class="--select-show"><option value="">-</option></select>',a+="</div>",a+='<div class="--at-right">',a+="<span>Jump to : </span>",a+='<select class="--select-jump"><option value="">-</option></select>',a+='<button class="--at-page">Prev</button>',a+='<span class="--at-current-page">1</span>',a+='<button class="--at-page">Next</button>',a+="</div>",a+="</div>",a+="</div>";var f=this.obj&&this.is_scrolled?" --scrolled":"";f+=this.obj&&"string"==typeof this.height?"":" --max-height";var v=this.obj&&"string"==typeof this.height?' style="height:'+this.height+'"':"";if(a+='<div class="--at-table-container'+f+'"'+v+">",a+="<table>",a+="<thead>",!this.thead){var g='\nPlease, set "thead" for '+this._str_selector;throw g+='\nExample thead : ["name", "surname", "option"]',Error(g)}a+="<tr>",this.isNumeric&&(a+='<th class="--at-no">',a+="No.",a+="</th>"),this.isCheckable&&(a+='<th class="--at-check">',a+='<input autocomplete="off" type="checkbox" class="--at-checkbox-container">',a+="</th>");for(i=0;i<this.thead.length;i++)a+="<th>"+this.thead[i]+"</th>";if(this.action&&(a+="<th></th>"),this.popup_action&&(a+="<th></th>"),a+="</tr>",a+="</thead>",a+="<tbody>",a+='<tr><td colspan="'+this.thead.length+'"><div class="--at-center"><div class="--at-loading">'+s+"</div></div></td></tr>",a+="</tbody>",a+="</table>",a+="</div>",this.obj&&this.obj.content_bottom){if(a+='<div class="--at-bottom">',this.obj&&void 0!==this.obj.content_bottom.form_filter){a+='<div class="--at-content --cf">';n=this.obj.content_bottom.form_filter;a+='<div class="--at-form-filter">',a+="<label>Filters :</label>";for(i=0;i<n.length;i++){r=n[i],o=r.text||"",l=r.attr||"";if(void 0===r.type)throw Error('\nPlease, set "type" for filters');if(a+='<div class="--at-form-input">',a+="<span>"+o+"</span>","input"===r.type)a+="<input "+l+' class="--at-filter-'+i+'">';else if("select"===r.type){if(void 0===r.arr)throw Error('\nPlease, set "arr" for "select" filters');for(var c in a+='<select class="--at-filter-'+i+'" '+l+">",r.arr){h=r.arr[c];a+='<option value="'+h[0]+'">'+h[1]+"</option>"}a+="</select>"}a+="</div>"}a+="</div>",a+="</div>"}if(a+='<div class="--at-content --cf --at-content-bottom">',this.obj.content_bottom.action)for(i=0;i<this.obj.content_bottom.action.length;i++){d=this.obj.content_bottom.action[i],p=d.type||"info",u=d.href||"",l=d.attr||"",_=" "+(d.cls||p);a+='<a href="'+u+'" class="--at-btn --at-btn-bottom-'+i+_+'" '+l+">"+d.text+"</a>"}a+="</div>",a+="</div>"}a+="</div>",e.innerHTML=a,this.obj&&this.obj.content_top&&this.obj.content_top.action&&this.__addListenerToContentAction("top"),this.obj&&this.obj.content_bottom&&this.obj.content_bottom.action&&this.__addListenerToContentAction("bottom")},g.prototype.__addListenerToContentAction=function(e){for(var s=this.obj["content_"+e].action,a=this,n=l[this.index],i=document.getElementsByClassName(this.str_selector)[0].getElementsByClassName("--at-content-"+e)[0],r=0;r<s.length;r++)(function(r){var o=s[r];i.getElementsByClassName("--at-btn-"+e+"-"+r)[0].addEventListener("click",function(e){var s=new Array,i=1===n.current_page?0:(n.current_page-1)*n.per_page,r=o.href||"";if(0!==a.data_checked.length)for(var l=i;l<a.data_checked.length;l++)void 0!==a.data_checked[l]&&s.push(a.__setParameters(a.data_checked[l]));var c=void 0!==o.params?r+o.params(s):r;"function"==typeof o.listener?o.listener(s,e,a.index_checked,a.req):(e.preventDefault(),t.location.href=c)})})(r)},g.prototype.__setTbody=function(){this.data_checked=new Array,this.index_checked=new Array,this.isCheckable&&(this.container[0].getElementsByClassName("--at-checkbox-container")[0].checked=!1);for(var t=l[this.index],e=null===this.json_search?this.json:this.json_search,s=(t.is_array,""),a=1===t.current_page?0:(t.current_page-1)*t.per_page,n=this.container[0].getElementsByTagName("tbody")[0],i=new Array,r=a;r<e.length;r++){var o=e[r];if(void 0!==o){var c=0;for(var h in i.push(o),s+="<tr>",this.isNumeric&&(s+='<td class="--at-no">',s+="<span>"+(r+1)+"</span>",s+="</td>"),this.isCheckable&&(s+="<td>",s+='<input autocomplete="off" type="checkbox" class="--at-check-box" value="'+r+'">',s+="</td>"),o)if(this.__isHide(h)||parseInt(h)+1===o.length||"primary_index"===h){if(this.action&&0!==c){s+='<td class="--act">';for(var d=0;d<this.action.length;d++){var p=this.action[d],u=p.text||"Action",_=p.attr||"",f=p.href||"",v=void 0!==p.params?p.params(this.__setParameters(o)):f,g=p.cls?" "+p.cls:"";s+='<a href="'+v+'" class="--at-btn-action-tr --at-btn-action-'+d+g+'" '+_+' value="'+r+'">'+u+"</a>"}s+="</td>"}if(this.popup_action&&0!==c){s+='<td class="--act">',s+='<div class="--at-action --at-popup-action">',s+="<span></span>",s+="</div>",s+='<div class="--at-action-container">';for(d=0;d<this.popup_action.length;d++){p=this.popup_action[d],u=p.text||"Action",_=p.attr||"",f=p.href||"",v=void 0!==p.params?p.params(this.__setParameters(o)):f,g=p.cls?" "+p.cls:" --default";s+='<a href="'+v+'" class="--at-btn-popup-action-'+d+g+'" '+_+' value="'+r+'">'+u+"</a>"}s+="</div></td>"}}else{if(s+="<td>",void 0!==this.update_row&&void 0!==this.update_row[h]){var m="\nOps, something went wrong";m+="\nChange/Update messages for",m+='\nchange : { "'+h+'" : function }',m+="\nPlease give the return as a STRING";var y=this.update_row[h](this.__setParameters(o));if("string"!=typeof y)throw Error(m);s+=y}else s+=o[h];s+="</td>",c++}if(s+="</tr>",t.current_page*t.per_page===r+1)break}}n.innerHTML=s;var b=this;if(this.action){var j=this.container[0];for(n=j.getElementsByTagName("tbody")[0],r=0;r<i.length;r++)for(var k=n.getElementsByTagName("tr")[r],E=0;E<this.action.length;E++){p=this.action;(function(t,e){k.getElementsByClassName("--at-btn-action-"+e)[0].addEventListener("click",function(s){var a=b.__setParameters(i[t]),n=parseInt(this.getAttribute("value"));if(void 0!==p[e].listener)return p[e].listener(a,s,n,b.req,this)})})(r,E)}}if(this.popup_action){j=this.container[0];var L=j.getElementsByClassName("--at-popup-action");for(n=j.getElementsByTagName("tbody")[0],r=0;r<i.length;r++){k=n.getElementsByTagName("tr")[r];L[r].addEventListener("click",function(){var t=j.getElementsByClassName("--at-action-container"),e=this.nextSibling;if(e.classList.contains("aktif"))return e.classList.remove("aktif"),void this.classList.remove("aktif");for(var s=0;s<t.length;s++)L[s].classList.remove("aktif"),t[s].classList.remove("aktif");e.classList.add("aktif"),this.classList.add("aktif")});for(E=0;E<this.popup_action.length;E++){p=this.popup_action;(function(t,e){k.getElementsByClassName("--at-btn-popup-action-"+e)[0].addEventListener("click",function(s){var a=b.__setParameters(i[t]),n=parseInt(this.getAttribute("value"));if(void 0!==p[e].listener)return p[e].listener(a,s,n,b.req,this)})})(r,E)}}}if(this.isCheckable){var x=this.container[0].getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box");for(b=this,r=0;r<i.length;r++)x[r].addEventListener("click",function(){var t=parseInt(this.value),e=this.parentElement.parentElement;this.checked?(e.classList.add("aktif"),b.__addCheckData(t)):(e.classList.remove("aktif"),b.__removeCheckData(t))})}},g.prototype.__addCheckData=function(t){var e=null===this.json_search?this.json:this.json_search;this.data_checked[t]=e[t],this.index_checked[t]=t},g.prototype.__removeCheckData=function(t){this.data_checked.splice(t,1),this.index_checked.splice(t,1)},g.prototype.__setFormFilters=function(){if(this.obj&&this.obj.content_top&&void 0!==this.obj.content_top.form_filter){var t=this;setTimeout(function(){for(var e=t.container[0],s=e.getElementsByClassName("--at-top")[0],a=t.obj.content_top.form_filter,n=0;n<a.length;n++)(function(e){var n,i=a[e],r=s.getElementsByClassName("--at-filter-"+e)[0],o=null;"input"===r.nodeName.toLowerCase()?o="keyup":"select"===r.nodeName.toLowerCase()&&(o="change"),r.addEventListener(o,function(){var e=this.value;clearTimeout(n),n=setTimeout(function(){t.filter(e,i.for_key,i.filter)},500)})})(n)},1e3)}if(this.obj&&this.obj.content_bottom&&void 0!==this.obj.content_bottom.form_filter){t=this;setTimeout(function(){for(var e=t.container[0],s=e.getElementsByClassName("--at-bottom")[0],a=t.obj.content_bottom.form_filter,n=0;n<a.length;n++)(function(e){var n,i=a[e],r=s.getElementsByClassName("--at-filter-"+e)[0],o=null;"input"===r.nodeName.toLowerCase()?o="keyup":"select"===r.nodeName.toLowerCase()&&(o="change"),r.addEventListener(o,function(){var e=this.value;clearTimeout(n),n=setTimeout(function(){t.filter(e,i.for_key,i.filter)},500)})})(n)},1e3)}},g.prototype.filter=function(t,e,s){if(l[this.index].current_page=1,void 0!==this.json.length&&0!==this.json.length){var a=l[this.index],n=new Array;void 0!==s&&s;var i=a.is_array?parseInt(e):e,r=0===t.length?null:t;if(void 0===a.arr_search[i])throw Error("\nUndefined index or key for : "+i);"*"!==e&&(a.arr_search[i]=r);var o=a.arr_search,c=0;for(var h in a.arr_search)null!==a.arr_search[h]&&(c+=1);for(h=0;h<this.json.length;h++){var d=this.json[h],p=0;if("*"===e){if(null===r)break;for(var u in d)null!==r&&-1!==d[u].toString().indexOf(r)&&n.push(d)}else{for(var u in o)null!==o[u]&&-1!==d[u].toString().indexOf(o[u])&&(p+=1);p===c&&n.push(d)}}null===r&&"*"===e&&0===n.length&&(n=this.json),this.json_search=n,this.__removeOrderByTH(),this.__setPagination(),this.__setResult(null),this.__setTbody()}},g.prototype.__removeOrderByTH=function(){for(var t=this.container[0].getElementsByTagName("th"),e=0;e<t.length;e++)t[e].classList.remove("--asc"),t[e].classList.remove("--desc")},g.prototype.__setResult=function(t){var e=l[this.index],s=null===this.json_search?this.json.length:this.json_search.length,a=this.container[0],n=a.getElementsByClassName("--at-show")[0],i=[10,25,50,100,250,500],r=a.getElementsByClassName("--select-show")[0],o=null!=t?"(Results took "+t+" seconds)":"";if(0===s)return r.innerHTML='<option value="">-</option>',void(n.innerHTML="Showing 1 to 0 of 0 "+o);var c="",h=0;if(void 0!==t){for(var d=0;d<i.length&&!(s<i[d]);d++)c+='<option value="'+i[d]+'">'+i[d]+"</option>",h++;0===h&&(c='<option value="">-</option>'),r.innerHTML=c}var p=1===e.current_page?1:(e.current_page-1)*e.per_page+1,u=0,_=s-(p+e.per_page);u=s<e.per_page||0===_||_<0?s:e.current_page*e.per_page,n.innerHTML="Showing "+p+" to "+u+" of "+s+" "+o},g.prototype.__setPagination=function(){var t=l[this.index],e=null===this.json_search?this.json.length:this.json_search.length,s=this.container[0],a=s.getElementsByClassName("--at-page"),n="",i=s.getElementsByClassName("--at-current-page")[0],r=(e/t.per_page).toFixed(0),o=e/t.per_page,c=e<=t.per_page?0:o>r?parseInt(r)+1:parseInt(r),h=s.getElementsByClassName("--select-jump")[0];if(0===c)n='<option value="">-</option>',i.innerHTML=1,h.innerHTML=n,a[0].classList.remove("aktif"),a[1].classList.remove("aktif");else{for(var d=0;d<c;d++){var p=d+1;n+='<option value="'+p+'">'+p+"</option>"}h.innerHTML=n,h.getElementsByTagName("option")[t.current_page-1].selected='selected=""',a[0].classList.remove("aktif"),a[1].classList.remove("aktif"),i.innerHTML=t.current_page;var u=c-t.current_page;u!==c-1&&a[0].classList.add("aktif"),0!==u&&a[1].classList.add("aktif")}},g.prototype.__isHide=function(t){var e=l[this.index],s=e.is_array;if(void 0===this.hide)return!1;for(var a=0;a<this.hide.length;a++)if(s&&parseInt(t)===parseInt(this.hide[a])||!s&&t===this.hide[a])return!0;return!1},g.prototype.__setParameters=function(t){var e=null;return e=l[this.index].is_array?t.slice(0,t.length-1):Object.keys(t).map(function(e){return t[e]}).slice(0,Object.keys(t).length-1),e},g.prototype.__normalizeData=function(t,e){var s=l[this.index],a=s.is_array,n=s.arr_object,i={};if(0===t.length)return this.json=t;for(var r in t){if(null===n){n={};var o=t[r],c=0;for(var h in o)this.__isHide(h)||(n[c]=h,i[h]=null,c++);s.arr_search=i,s.arr_object=n}a?void 0!==e?t[r].pop():t[r].push(parseInt(r)):e?delete t[r].primary_index:t[r].primary_index=parseInt(r)}return s.data=t,this.json=t,this.json},g.prototype.__orderBy=function(t){var e=l[this.index],s=(e.is_array,e.arr_object),a=e.order_by_index,r=null===this.json_search?this.json:this.json_search,o=JSON.stringify(r),c=JSON.parse(o);a!==parseInt(t)&&(e.is_asc=!0);var h=e.is_asc;e.order_by_index=t,e.current_page=1,e.is_asc=!h;var d=s[t];c.sort(function(t,e){var s=n(t[d])?new Date(t[d]):t[d],a=n(e[d])?new Date(e[d]):e[d];return n(t[d])&&n(e[d])||i(t[d])&&i(e[d])?h?a-s:s-a:h?t[d].localeCompare(e[d]):e[d].localeCompare(t[d])}),this.json_search=c},g.prototype.req=function(t,e){var s=new XMLHttpRequest,a=performance.now();s.onreadystatechange=function(){if(4==this.readyState){var t=performance.now(),s=((t-a%6e4)/1e3).toFixed(2);200==this.status?e({result:this.responseText,time:s,error:null}):e({result:this.responseText,time:s,error:{status:this.status,statusText:this.statusText}})}},s.onerror=function(t){console.log(t)},s.open("GET",t,!0),s.send()},g.prototype.deleteData=function(t){if(void 0!==t){var e=l[this.index],s=e.is_array,a=(e.current_page-1)*e.per_page,n=new Array;if(!Array.isArray(t)||0!==t.length){Array.isArray(t)?n=t:n[t]=t;for(var i=n.length-1;i>=a;i--){var r=n[i];if(null!==this.json_search){var o=this.json_search[r];void 0!==o&&(r=s?o[o.length-1]:o.primary_index,this.json_search.splice(i,1))}o=this.json[r];void 0!==o&&this.json.splice(r,1)}this.__setResult(),this.__setTbody(),this.__setPagination()}}},g.prototype.addColumn=function(t){var e=this.json,s=this.json_search;this.container[0];if(console.log(e),t&&void 0!==t.length){if(e.length>0)for(var a=0;a<e.length;a++);if(null!==s.length)for(a=0;a<s.length;a++);}},g.prototype.insertData=function(t){if(void 0!==t){var e=l[this.index],s=e.is_array,a=(e.per_page,new Array);if(Array.isArray(t)){if(0===t.length)return;a=t,!Array.isArray(a[0])&&s&&(a=new Array,a[0]=t)}else a[0]=t;for(var n=new Array,i=new Array,r=0;r<a.length;r++){var o=a[r],c=s?this.json.length:Object.keys(this.json).length;s?o.push(this.json.length):o.primary_index=c,null!==this.json_search&&i.push(o),n.push(o)}null!==this.json_search&&(this.json_search=i.concat(this.json_search)),this.json=n.concat(this.json),this.__setResult(null),this.__setPagination(),this.__setTbody()}},g.prototype.updateData=function(t,e){if(void 0!==t&&void 0!==e&&(!Array.isArray(t)||0!==t.length)){var s=l[this.index],n=s.is_array,i=s.arr_object,r=(s.current_page-1)*s.per_page,o=new Array,c=this.container[0].getElementsByTagName("tbody")[0],h=c.getElementsByTagName("tr");Array.isArray(t)?o=t:o[0]=t;var d=new Array,p=0;this.isCheckable&&(p+=1),this.isNumeric&&(p+=1);for(var u=0,_=0;_<o.length;_++){var f=o[_];if(void 0!==f){void 0===e.length?d=e:void 0!==e.length&&void 0===e[0].length?d=e:void 0!==e[u]&&(d=e[u]);var v=f,g=h[f-r].getElementsByTagName("td");for(var m in d){var y=a(i,m);if(-1===y)throw Error('\nOps, undefined index "'+m+'"\nAre you hide this index/key?');null!==this.json_search&&(v=n?this.json_search[f][this.json_search[f].length-1]:this.json_search[f].primary_index,this.json_search[f][m]=d[m]),this.json[v][m]=d[m];var b=null===this.json_search?this.json:this.json_search;g[y+p].innerHTML=this.update_row&&void 0!==this.update_row[m]?this.update_row[m](this.__setParameters(b[f])):d[m]}u++}}}},g.prototype.showConfirm=function(t,e,s){for(var a=["warning","danger","info","success"],n=!t.type||"warning"!==t.type&&"danger"!==t.type&&"info"!==t.type&&"success"!==t.type?"info":t.type,i=this.container[0].getElementsByClassName("--at-confirm-container")[0],r=0;r<a.length;r++)i.classList.remove(a[r]);i.classList.add(n);var o=t.title||"INFO",l=t.text||"Info Confirm",c=t.accept_text||"Yes",h=t.abort_text||"No";i.classList.add("aktif"),i.getElementsByClassName("--at-alert-top")[0].children[0].innerHTML=o,i.getElementsByClassName("--at-alert-middle")[0].innerHTML=l,i.getElementsByTagName("button")[0].innerHTML=c,i.getElementsByTagName("button")[1].innerHTML=h,"function"==typeof e&&(this.accept_confirm=e),"function"==typeof s&&(this.abort_confirm=s)},g.prototype.showAlert=function(t){for(var e=["warning","danger","info","success"],s=!t.type||"warning"!==t.type&&"danger"!==t.type&&"info"!==t.type&&"success"!==t.type?"info":t.type,a=this.container[0].getElementsByClassName("--at-alert-alert")[0],n=0;n<e.length;n++)a.classList.remove(e[n]);a.classList.add(s);var i=t.title||"INFO",r=t.text||"Info Alert",o=t.button_text||"OK";a.classList.add("aktif"),a.getElementsByClassName("--at-alert-top")[0].children[0].innerHTML=i,a.getElementsByClassName("--at-alert-middle")[0].innerHTML=r,a.getElementsByTagName("button")[0].innerHTML=o},g.prototype.clearChecked=function(){if(null!==this.json&&this.isCheckable)for(var t=this.container[0],e=t.getElementsByTagName("tbody")[0].getElementsByClassName("--at-check-box"),s=e.length-1;s>=0;s--){var a=e[s].parentElement.parentElement,n=parseInt(e[s].value);e[s].checked=!1,this.__removeCheckData(n),a.classList.remove("aktif")}},g.prototype.getCheckedData=function(){var t=new Array,e=new Array;if(this.index_checked.length>0)for(var s=0;s<this.index_checked.length;s++)void 0!==this.index_checked[s]&&(t.push(this.index_checked[s]),e.push(this.data_checked[s]));return{indexs:t,data_checked:e}},g.prototype.getData=function(){return this.json},g.prototype.getCurrentData=function(){for(var t=l[this.index],e=new Array,s=null===this.json_search?this.json:this.json_search,a=(t.current_page-1)*t.per_page,n=a;n<s.length&&(e.push(this.__setParameters(s[n])),t.current_page*t.per_page!==n+1);n++);return e},g.prototype.getAllCurrentData=function(){for(var t=new Array,e=null===this.json_search?this.json:this.json_search,s=0;s<e.length;s++)t.push(this.__setParameters(e[s]));return t},g.prototype.isJSON=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},t.arTable=new g})(window);